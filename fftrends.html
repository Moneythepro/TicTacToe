<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Free Fire Shorts Finder â€” Simple & Light</title>
  <meta name="description" content="Simple tool to fetch trending Free Fire YouTube Shorts (last N days) without needing your own API key. Mobile & desktop friendly." />
  <meta name="robots" content="index,follow" />
  <meta property="og:title" content="Free Fire Shorts Finder â€” Simple & Light" />
  <meta property="og:description" content="Fetch trending Free Fire YouTube Shorts titles, descriptions and hashtags easily (no API key)." />
  <style>
    :root{--bg:#fff;--text:#111;--muted:#555;--accent:#ff7a00;--card:#f8f8f8;--radius:12px}
    html,body{height:100%}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial; background:var(--bg); color:var(--text); display:flex;flex-direction:column;align-items:center;padding:18px;}
    .container{max-width:1100px;width:100%}
    header{display:flex;flex-direction:column;align-items:center;gap:6px}
    h1{margin:6px 0;font-size:1.2rem}
    p.lead{margin:0;color:var(--muted);text-align:center;max-width:760px;font-size:0.95rem}
    .controls{margin-top:14px;display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:center}
    .field{display:flex;gap:8px;align-items:center}
    input[type="text"], select, input[type="number"]{padding:8px 10px;border-radius:10px;border:1px solid #e6e6e6;background:#fff;color:var(--text);min-width:160px}
    button.primary{background:linear-gradient(90deg,var(--accent),#ff9b4d);border:none;color:#fff;padding:10px 14px;border-radius:10px;font-weight:600;cursor:pointer}
    button.ghost{background:transparent;border:1px solid #eee;padding:8px 10px;border-radius:10px;color:var(--muted);cursor:pointer}
    .results{margin-top:18px;display:grid;gap:12px}
    .card{background:var(--card);border-radius:var(--radius);padding:12px;border:1px solid #eee;display:flex;gap:12px;align-items:flex-start}
    .thumb{width:140px;height:80px;border-radius:8px;overflow:hidden;background:#ddd;flex-shrink:0}
    .thumb img{width:100%;height:100%;object-fit:cover;display:block}
    .meta{flex:1}
    .meta h3{margin:0 0 6px 0;font-size:1rem}
    .meta p{margin:0;color:var(--muted);font-size:0.92rem}
    .tags{margin-top:8px;display:flex;flex-wrap:wrap;gap:6px}
    .tag{background:#fff;padding:6px 8px;border-radius:999px;border:1px solid #eee;font-size:0.82rem;color:var(--muted)}
    pre.code{background:#fff;padding:12px;border-radius:8px;border:1px dashed #eee;color:var(--text);white-space:pre-wrap}
    .small{font-size:0.86rem;color:var(--muted)}
    .actions{display:flex;gap:8px;align-items:center;margin-top:8px}
    @media (min-width:880px){ .results{grid-template-columns:1fr 1fr} .container{padding:6px 20px} }
    @media (orientation:landscape) and (max-width:880px){ body{padding:12px} .results{grid-template-columns:1fr 1fr} }
    /* accessibility focus */
    :focus{outline:3px solid rgba(255,122,0,0.16);outline-offset:2px}
  </style>
</head>
<body>
  <div class="container" role="main">
    <header>
      <h1>ðŸ”¥ Free Fire Shorts Finder</h1>
      <p class="lead">No API key needed. Uses a public proxy. Fetch trending Free Fire YouTube Shorts from the last N days and get ready-made title, description and keywords you can copy.</p>
    </header>

    <div class="controls" aria-hidden="false">
      <div class="field">
        <label class="small" for="query">Query</label>
        <input id="query" type="text" value="Free Fire" aria-label="search query" />
      </div>

      <div class="field">
        <label class="small" for="days">Days</label>
        <input id="days" type="number" min="1" max="7" value="3" aria-label="days range" />
      </div>

      <div class="field">
        <label class="small" for="max">Max</label>
        <input id="max" type="number" min="1" max="30" value="10" aria-label="max results" />
      </div>

      <div>
        <button id="findBtn" class="primary" aria-label="find trending shorts">Find</button>
      </div>
    </div>

    <div id="results" class="results" aria-live="polite"></div>

    <footer style="margin-top:18px;text-align:center;color:var(--muted);font-size:0.9rem">
      Simple Â· Light Â· Mobile & Desktop friendly Â· Public proxy (limited)
    </footer>
  </div>

  <script>
    // Simple, lightweight script (no libs). Public proxy used: yt.lemnoslife.com
    const SEARCH_PROXY_BASE = 'https://yt.lemnoslife.com/search';
    const VIDEOS_PROXY_BASE = 'https://yt.lemnoslife.com/videos?part=snippet';

    const el = {
      query: document.getElementById('query'),
      days: document.getElementById('days'),
      max: document.getElementById('max'),
      findBtn: document.getElementById('findBtn'),
      results: document.getElementById('results')
    };

    function isoDaysAgo(days){
      const d = new Date(); d.setDate(d.getDate() - Number(days)); return d.toISOString();
    }

    function extractHashtags(text){
      if(!text) return [];
      try{
        const re = /#([\p{L}0-9_\-]+)/gu;
        const out = [];
        for(const m of text.matchAll(re)) out.push('#'+m[1]);
        return out;
      }catch(e){
        const m = text.match(/#(\w+)/g) || []; return m;
      }
    }

    function tokenize(s){
      if(!s) return [];
      return s.toLowerCase().replace(/[â€˜â€™â€œâ€]/g,'').split(/[^a-z0-9]+/i).filter(Boolean).filter(w=>w.length>1);
    }

    function topNFromMap(map, n=10){
      return Object.entries(map).sort((a,b)=>b[1]-a[1]).slice(0,n).map(x=>x[0]);
    }

    function generateTitle(keywords){
      if(!keywords || keywords.length===0) return 'Free Fire Short â€” Trending #shorts';
      const primary = keywords[0];
      const secon = keywords.slice(1,3).join(' | ');
      return `${capitalize(primary)}${secon ? ' â€” '+secon : ''} | Free Fire #shorts`.slice(0,100);
    }
    function generateDescription(keywords, days){
      const top = keywords.slice(0,8).map(k=> (k.startsWith('#')? k : '#'+k) );
      return `ðŸ”¥ Trending Free Fire Shorts â€” last ${days} days\n\nHighlights: ${keywords.slice(0,8).join(', ')}\n\nWatch, share & subscribe for more shorts and tips.\n\n${top.join(' ')}`;
    }
    function generateKeywords(freqMap, limit=20){
      const top = topNFromMap(freqMap, limit).map(s => s.replace(/^#+/,''));
      return '"' + top.join(', ') + '"';
    }
    function capitalize(s){ return s.charAt(0).toUpperCase()+s.slice(1) }

    async function fetchJson(url){
      const r = await fetch(url);
      if(!r.ok) throw new Error('HTTP '+r.status);
      return r.json();
    }

    async function findShorts(){
      el.results.innerHTML = '<div class="small">Fetching trending shorts â€” please waitâ€¦</div>';
      const q = encodeURIComponent(el.query.value.trim() || 'Free Fire');
      const days = Number(el.days.value) || 3;
      const max = Math.max(1, Math.min(30, Number(el.max.value) || 10));
      const publishedAfter = isoDaysAgo(days);

      // Build search URL for proxy. The proxy expects query params similar to YouTube API.
      const searchUrl = `${SEARCH_PROXY_BASE}?type=video&videoDuration=short&order=viewCount&maxResults=${max}&q=${q}&publishedAfter=${encodeURIComponent(publishedAfter)}`;

      try{
        const searchData = await fetchJson(searchUrl);
        const items = (searchData.items || []).filter(it => it && (it.id?.videoId || it.id));
        if(items.length === 0){ el.results.innerHTML = '<div class="small">No shorts found for that query/time range.</div>'; return; }

        // Collect ids
        const ids = items.map(it => it.id?.videoId || it.id).slice(0,50);
        const idsParam = ids.join(',');
        const videosUrl = `${VIDEOS_PROXY_BASE}&id=${encodeURIComponent(idsParam)}`;
        const videosData = await fetchJson(videosUrl);
        const videos = videosData.items || [];

        // Aggregate tokens & build UI
        const freq = {};
        const nodes = document.createDocumentFragment();

        for(const v of videos){
          const snip = v.snippet || {};
          const title = snip.title || '';
          const desc = snip.description || '';
          const tags = snip.tags || [];
          // aggregate
          tokenize(title).forEach(t=> freq[t] = (freq[t]||0)+3);
          tokenize(desc).forEach(t=> freq[t] = (freq[t]||0)+1);
          tags.forEach(t=> { if(t) freq[t.toLowerCase()] = (freq[t.toLowerCase()]||0)+4 });
          extractHashtags(desc).forEach(h=> { const k = h.replace('#','').toLowerCase(); if(k) freq[k] = (freq[k]||0)+5 });

          // Render card per video
          const card = document.createElement('article'); card.className = 'card';
          const thumbUrl = snip.thumbnails?.medium?.url || snip.thumbnails?.default?.url || '';
          const thumb = document.createElement('div'); thumb.className = 'thumb';
          thumb.innerHTML = thumbUrl ? `<img src="${thumbUrl}" alt="thumbnail">` : '';
          const meta = document.createElement('div'); meta.className = 'meta';
          const h3 = document.createElement('h3'); h3.textContent = title;
          const ch = document.createElement('p'); ch.className='small'; ch.textContent = `${snip.channelTitle || ''} â€¢ ${timeAgo(snip.publishedAt)}`;
          const pdesc = document.createElement('p'); pdesc.textContent = (desc || '').slice(0,220) + ((desc||'').length>220 ? 'â€¦' : '');
          const tagwrap = document.createElement('div'); tagwrap.className='tags';
          (tags || []).slice(0,6).forEach(t=> { const sp = document.createElement('span'); sp.className='tag'; sp.textContent = t; tagwrap.appendChild(sp); });
          extractHashtags(desc).slice(0,6).forEach(h=> { const sp = document.createElement('span'); sp.className='tag'; sp.textContent = h; tagwrap.appendChild(sp); });

          // generate SEO snippet for this video
          const perFreq = {};
          tokenize(title).forEach(t=> perFreq[t] = (perFreq[t]||0)+3);
          tokenize(desc).forEach(t=> perFreq[t] = (perFreq[t]||0)+1);
          (tags||[]).forEach(t=> { if(t) perFreq[t.toLowerCase()] = (perFreq[t.toLowerCase()]||0)+4 });
          extractHashtags(desc).forEach(h=> { const k = h.replace('#','').toLowerCase(); if(k) perFreq[k] = (perFreq[k]||0)+5 });
          const perTop = topNFromMap(perFreq, 8);
          const seoTitle = generateTitle(perTop);
          const seoDesc = generateDescription(perTop, days);
          const seoKeys = generateKeywords(perFreq, 12);
          const pre = document.createElement('pre'); pre.className='code'; pre.textContent = `Title: ${seoTitle}\n\nDescription:\n${seoDesc}\n\nKeywords: ${seoKeys}`;

          const actions = document.createElement('div'); actions.className='actions';
          const copyBtn = document.createElement('button'); copyBtn.className='ghost'; copyBtn.textContent='Copy'; copyBtn.onclick = async () => {
            try{ await navigator.clipboard.writeText(pre.textContent); copyBtn.textContent='Copied!'; setTimeout(()=>copyBtn.textContent='Copy',1200); }catch(e){ alert('Copy failed â€” select and copy manually'); }
          };
          actions.appendChild(copyBtn);

          meta.appendChild(h3); meta.appendChild(ch); meta.appendChild(pdesc); meta.appendChild(tagwrap); meta.appendChild(pre); meta.appendChild(actions);
          card.appendChild(thumb); card.appendChild(meta);
          nodes.appendChild(card);
        }

        // Finally, render aggregated SEO for all videos combined
        const combinedTop = topNFromMap(freq, 20);
        const aggTitle = generateTitle(combinedTop);
        const aggDesc = generateDescription(combinedTop, days);
        const aggKeys = generateKeywords(freq, 25);
        const aggCard = document.createElement('div'); aggCard.className='card';
        aggCard.style.gridColumn = '1/-1';
        const aggMeta = document.createElement('div'); aggMeta.className='meta';
        const aggH = document.createElement('h3'); aggH.textContent = 'Aggregated SEO (all results)';
        const aggPre = document.createElement('pre'); aggPre.className='code'; aggPre.textContent = `Title: ${aggTitle}\n\nDescription:\n${aggDesc}\n\nKeywords: ${aggKeys}`;
        const aggActions = document.createElement('div'); aggActions.className='actions';
        const aggCopy = document.createElement('button'); aggCopy.className='ghost'; aggCopy.textContent='Copy All'; aggCopy.onclick = async () => {
          try{ await navigator.clipboard.writeText(aggPre.textContent); aggCopy.textContent='Copied!'; setTimeout(()=>aggCopy.textContent='Copy All',1200); }catch(e){ alert('Copy failed â€” select and copy manually'); }
        };
        aggActions.appendChild(aggCopy);
        aggMeta.appendChild(aggH); aggMeta.appendChild(aggPre); aggMeta.appendChild(aggActions);
        aggCard.appendChild(aggMeta);

        el.results.innerHTML = '';
        el.results.appendChild(aggCard);
        el.results.appendChild(nodes);

      }catch(err){
        el.results.innerHTML = `<div class="small">Error: ${String(err.message || err)}</div>`;
      }
    }

    function timeAgo(iso){
      if(!iso) return '';
      const d = new Date(iso); const diff = Math.floor((Date.now()-d.getTime())/1000);
      if(diff < 60) return diff+'s ago';
      if(diff < 3600) return Math.floor(diff/60) + 'm ago';
      if(diff < 86400) return Math.floor(diff/3600) + 'h ago';
      return Math.floor(diff/86400) + 'd ago';
    }

    el.findBtn.addEventListener('click', findShorts);
  </script>
</body>
</html>
